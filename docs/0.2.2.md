# JsonLang 0.2.2 更新日志

## 新特性

- **系统命令执行功能**：新增 `exec` 语句，允许执行操作系统命令并捕获输出结果
- **跨平台支持**：自动适配 Windows (cmd) 和 Unix 系统 (sh) 的命令执行环境
- **结构化命令输出**：执行结果以结构化对象形式存储，包含标准输出、标准错误和状态码

## 语法增强

- 新增 `exec` 语句语法，支持指定命令、参数和结果变量：
  ```json
  {"exec": {
      "cmd": "命令名",
      "args": ["参数1", "参数2", "@var.变量参数"],
      "output": "结果变量名"  // 可选，默认为 "result"
  }}
  ```

## 文档更新

- 更新了语法文档 (`docs/syntax.md`)，添加了 `exec` 语句的详细说明和示例
- 更新了 README 文件，在特性列表和语法概述中添加了系统命令执行功能

## 示例程序

- 添加了 Windows 环境示例 `examples/exec_demo.jl`
- 添加了 Unix 环境示例 `examples/exec_unix_demo.jl`

## 使用示例

```json
// 执行系统命令并获取输出
{"exec": {
    "cmd": "dir",
    "output": "dir_content"
}},
{"echo": ["目录内容：\n", "@var.dir_content.stdout"]}

// 执行带参数的命令
{"exec": {
    "cmd": "echo",
    "args": ["Hello from JsonLang!"],
    "output": "echo_result"
}},
{"echo": ["输出: ", "@var.echo_result.stdout"]}
```

## 注意事项

- 使用 `exec` 语句时请注意安全风险，避免执行不受信任的命令
- 命令执行环境取决于运行 JsonLang 的操作系统
