# JiLang中的引用符号

JiLang使用特殊的前缀符号来引用变量、常量、参数和环境变量。这些符号形成了JiLang的引用系统，使您能够在程序的不同部分访问和操作数据。

## 引用符号概述

JiLang支持以下引用前缀：

| 前缀 | 类型 | 描述 |
|------|------|------|
| `@var.` | 变量 | 引用程序中定义的普通变量 |
| `$` | 变量 | `@var.`的简写形式 |
| `￥` | 变量 | `@var.`的另一种简写形式（支持中文编程） |
| `@params.` | 参数 | 引用函数参数 |
| `@const.` | 常量 | 引用程序定义的常量 |
| `@env.` | 环境变量 | 引用系统环境变量 |

## 变量引用（@var.、$、￥）

### 标准变量引用 @var.

`@var.`是引用变量的标准方式：

```json
{
    "var": {"message": "你好，世界！"},
}
{"echo": ["消息是：", "@var.message"]}
```

### 简写变量引用 $

`$`提供了一种更简洁的引用变量的方式：

```json
{
    "var": {"count": 10},
}
{"echo": ["计数：", "$count"]}
```


### 中文变量引用 ￥

`￥`是专为支持中文编程习惯设计的变量引用前缀(实际上是因为作者有时候脑子一抽打错)：

```json
{
    "var": {"计数": 10},
}
{"echo": ["当前值：", "￥计数"]}
```

## 参数引用（@params.）

在函数内部，使用`@params.`前缀访问函数参数：

```json
{
    "program": {
        "greet": {
            "params": {
                "name": "string"
            },
            "body": [
                {"echo": ["你好，", "@params.name", "！\n"]}
            ]
        },
        "main": {
            "body": [
                {"greet": ["张三"]}
            ]
        }
    }
}
```

## 常量引用（@const.）

常量在程序顶层定义，使用`@const.`前缀引用：

```json
{
    "const": {
        "PI": 3.14159,
        "APP_NAME": "JiLang示例"
    },
    "program": {
        "main": {
            "body": [
                {"echo": ["应用名称：", "@const.APP_NAME", "\n"]},
                {"echo": ["π的值：", "@const.PI", "\n"]}
            ]
        }
    }
}
```

## 环境变量引用（@env.）

使用`@env.`前缀可以访问系统环境变量：

```json
{
    "program": {
        "main": {
            "body": [
                {"echo": ["用户目录：", "@env.HOME", "\n"]},
                {"echo": ["系统路径：", "@env.PATH", "\n"]}
            ]
        }
    }
}
```

## 复杂路径引用

JiLang支持引用嵌套对象的属性和数组元素：

### 对象属性访问

使用点号（.）访问对象属性：

```json
{
    "var": {
        "person": {
            "name": "张三",
            "age": 30
        }
    }
}
{"echo": ["姓名：", "@var.person.name", "\n"]}
```

### 数组索引访问

使用方括号（[]）访问数组元素：

```json
{
    "var": {
        "fruits": ["苹果", "香蕉", "橙子"]
    }
}
{"echo": ["第一个水果：", "@var.fruits[0]", "\n"]}
```

### 混合访问

可以混合点号和方括号进行复杂路径访问：

```json
{
    "var": {
        "students": [
            {"name": "张三", "scores": [85, 90, 78]},
            {"name": "李四", "scores": [92, 88, 95]}
        ]
    }
}
{"echo": ["第二个学生的第三个分数：", "@var.students[1].scores[2]", "\n"]}
```

## 注意事项

1. 引用符号区分大小写，必须严格按照上述格式使用
2. 在字符串中使用这些符号时，不会被解析为变量引用
3. 引用不存在的变量、常量或环境变量通常会导致运行时错误
4. 在某些上下文中，不存在的环境变量可能返回`null`而不是错误

## 最佳实践

- 在同一程序中保持一致的引用风格（例如，整个程序都使用`@var.`或`$`）
- 对于多语言团队，建议使用`@var.`作为标准格式，避免使用`￥`和`$`
- 使用有意义的变量名，即使使用简写形式，也要确保变量名清晰

## 相关主题

- [变量与类型](variables.md) - 变量声明和类型系统
- [函数与模块](functions.md) - 函数定义和参数传递
- [基本语法](basic.md) - JiLang的基本语法概念 